import{_ as s,c as i,o as a,V as e}from"./chunks/framework.-lsX7DWn.js";const g=JSON.parse('{"title":"Comparación","description":"","frontmatter":{},"headers":[],"relativePath":"get-start/comparison.md","filePath":"get-start/comparison.md"}'),t={name:"get-start/comparison.md"},n=e(`<h1 id="comparacion" tabindex="-1">Comparación <a class="header-anchor" href="#comparacion" aria-label="Permalink to &quot;Comparación&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">INFO</p><p>La fuente original (en ingles) de este tutorial se encuentra <a href="https://mswjs.io/docs/comparison" target="_blank" rel="noreferrer">aquí</a></p></div><p>Comparación de Mock Service Worker con herramientas similares.</p><p>Elegir la herramienta adecuada para el trabajo es crucial. Hicimos todo lo posible para proporcionar una comparación completa e imparcial entre Mock Service Worker y otras bibliotecas simuladas de API de código abierto a continuación.</p><div class="warning custom-block"><p class="custom-block-title">Advertencia</p><p>El propósito de esta página no es razonar sobre qué tecnología es mejor o peor. Todas las bibliotecas enumeradas aquí tienen un lugar para estar, y calificarlas no sólo es subjetivo, sino también una falta de respeto hacia las personas que realmente deberían usar una sobre otra.</p></div><h2 id="criterios-de-comparacion" tabindex="-1">Criterios de Comparación <a class="header-anchor" href="#criterios-de-comparacion" aria-label="Permalink to &quot;Criterios de Comparación&quot;">​</a></h2><p>Cualquier buena comparación comienza con un conjunto de criterios claramente definidos. Estos son los criterios que utilizamos al comparar MSW con alternativas (escritos desde la perspectiva de un desarrollador):</p><ul><li>Tipos de API admitidos. ¿Qué tipos de API puedo simular con la biblioteca?</li><li>Ambiente. ¿En qué entornos puedo utilizar la biblioteca?</li><li>Implementación. ¿Cómo implementa la biblioteca la interceptación de solicitudes?</li><li>Integración. ¿Cuánto esfuerzo se necesita para integrarlo en mi proyecto?</li><li>Definición. ¿Cómo defino las burlas?</li></ul><h2 id="nock" tabindex="-1">Nock <a class="header-anchor" href="#nock" aria-label="Permalink to &quot;Nock&quot;">​</a></h2><p><a href="https://github.com/nock/nock" target="_blank" rel="noreferrer">Nock</a> es una biblioteca de expectativas y burlas del servidor HTTP para Node.js.</p><blockquote><p>Nock es una gran biblioteca para combinar simulaciones de API y afirmaciones en Node.js. Si bien Mock Service Worker no viene con capacidades de aserción integradas, le permite reutilizar sin problemas los mismos simulacros en el navegador y en Node.js, además de brindar soporte GraphQL de primera clase y manejo de solicitudes/respuestas basado en estándares.</p></blockquote><h3 id="soporte-api" tabindex="-1">Soporte API <a class="header-anchor" href="#soporte-api" aria-label="Permalink to &quot;Soporte API&quot;">​</a></h3><table><thead><tr><th>Tipo de API</th><th>Nock</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>REST API</td><td>✅</td><td>✅</td></tr><tr><td>GraphQL API</td><td>❌</td><td>✅</td></tr><tr><td>WebSocket API</td><td>❌</td><td>❌</td></tr></tbody></table><h3 id="entorno-soportado" tabindex="-1">Entorno soportado <a class="header-anchor" href="#entorno-soportado" aria-label="Permalink to &quot;Entorno soportado&quot;">​</a></h3><table><thead><tr><th>Entorno</th><th>Nock</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>Node.js</td><td>✅</td><td>✅</td></tr><tr><td>Navegador</td><td>❌</td><td>✅</td></tr></tbody></table><h3 id="integracion" tabindex="-1">Integración <a class="header-anchor" href="#integracion" aria-label="Permalink to &quot;Integración&quot;">​</a></h3><table><thead><tr><th>Nock</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>No requiere ningún cambio en el código.</td><td>No requiere ningún cambio en el código.</td></tr><tr><td>Requiere adaptadores adicionales para interceptar solicitudes de clientes específicos (por ejemplo, <code>axios</code>)</td><td>Funciona con cualquier cliente de solicitud sin configuración adicional.</td></tr></tbody></table><h3 id="definicion" tabindex="-1">Definición <a class="header-anchor" href="#definicion" aria-label="Permalink to &quot;Definición&quot;">​</a></h3><p>Nock</p><p>Nock usa <em>encadenamiento de métodos</em> para interceptar solicitudes y declarar respuestas simuladas:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://api.example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;John&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><p>Mock Service Worker</p><p>MSW modela su API de interceptación después del enrutamiento del lado del servidor y maneja solicitudes y respuestas de acuerdo con la especificación Fetch API, usando las mismas clases que usaría normalmente en JavaScript:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://api.example.com/user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpResponse.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;John&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="json-server" tabindex="-1">JSON Server <a class="header-anchor" href="#json-server" aria-label="Permalink to &quot;JSON Server&quot;">​</a></h2><p><a href="https://github.com/typicode/json-server" target="_blank" rel="noreferrer">JSON Server</a> le permite crear un servidor HTTP real basado en un archivo JSON.</p><blockquote><p>JSON Server es un servidor HTTP real que utiliza un formato de definición de respuesta abstracta. Esto significa un servidor que debes ejecutar y mantener. Mock Service Worker no genera ningún servidor, por lo que su costo de inicialización es gratuito. Mock Service Worker también le permite tener definiciones simuladas más a prueba de errores mediante el uso de lenguajes como TypeScript y generando simulaciones a partir de la implementación real del backend.</p></blockquote><h3 id="soporte-api-1" tabindex="-1">Soporte API <a class="header-anchor" href="#soporte-api-1" aria-label="Permalink to &quot;Soporte API&quot;">​</a></h3><table><thead><tr><th>Tipo de API</th><th>JSON Server</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>REST API</td><td>✅</td><td>✅</td></tr><tr><td>GraphQL API</td><td>❌</td><td>✅</td></tr><tr><td>WebSocket API</td><td>❌</td><td>❌</td></tr></tbody></table><h3 id="entorno-soportado-1" tabindex="-1">Entorno soportado <a class="header-anchor" href="#entorno-soportado-1" aria-label="Permalink to &quot;Entorno soportado&quot;">​</a></h3><table><thead><tr><th>Entorno</th><th>JSON Server</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>Node.js</td><td>✅</td><td>✅</td></tr><tr><td>Navegador</td><td>✅<sup>1</sup></td><td>✅</td></tr></tbody></table><blockquote><p><sup>1</sup>—JSON Server en realidad no se ejecuta en el navegador. Dado que es un servidor independiente, se puede solicitar desde cualquier lugar de su sistema.</p></blockquote><h3 id="integracion-1" tabindex="-1">Integración <a class="header-anchor" href="#integracion-1" aria-label="Permalink to &quot;Integración&quot;">​</a></h3><table><thead><tr><th>JSON Server</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>Requiere cambiar el código para solicitar recursos del servidor simulado.</td><td>No requiere ningún cambio en el código.</td></tr><tr><td>Funciona con cualquier cliente de solicitud sin configuración adicional.</td><td>Funciona con cualquier cliente de solicitud sin configuración adicional.</td></tr></tbody></table><h3 id="definicion-1" tabindex="-1">Definición <a class="header-anchor" href="#definicion-1" aria-label="Permalink to &quot;Definición&quot;">​</a></h3><p>JSON Server</p><p>JSON Server utiliza un formato de rutas de recursos primero que genera implícitamente rutas de solicitud y describe respuestas simuladas.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;posts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;json-server&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mock-service-worker&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><blockquote><p>Esto generará automáticamente rutas del lado del servidor como <code>GET /posts</code> y <code>DELETE /posts/:index</code> en función de los recursos descritos. La naturaleza de dichas rutas es estática y requiere abstracciones adicionales para lograr comportamientos de red más complejos.</p></blockquote><h3 id="mock-service-worker" tabindex="-1">Mock Service Worker <a class="header-anchor" href="#mock-service-worker" aria-label="Permalink to &quot;Mock Service Worker&quot;">​</a></h3><p>MSW modela su API de intercepción después del enrutamiento del lado del servidor y maneja solicitudes y respuestas de acuerdo con la especificación <em>Fetch API</em>, usando las mismas clases que usaría normalmente en <em>JavaScript</em>:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/posts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpResponse.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;json-server&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mock-service-worker&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><blockquote><p>Con MSW, debe definir explícitamente operaciones del lado del servidor como <code>http.get(&#39;/posts&#39;)</code> o <code>http.delete(&#39;/posts/:index&#39;)</code>. MSW dio prioridad a la claridad, aprovechando la resolución de solicitudes programáticas, lo que permite comportamientos de red más complejos.</p></blockquote><h2 id="mirage" tabindex="-1">Mirage <a class="header-anchor" href="#mirage" aria-label="Permalink to &quot;Mirage&quot;">​</a></h2><p><a href="https://github.com/miragejs/miragejs" target="_blank" rel="noreferrer">Mirage</a> es una biblioteca simulada de API que le permite crear, probar y compartir una aplicación JavaScript completa y funcional sin tener que depender de ningún servicio backend.</p><blockquote><p>Mirage se centra en el modelado de datos para emular comportamientos de servidor más complejos. Mock Service Worker no viene con capacidades de modelado de datos integradas y, en cambio, las expone en un paquete separado llamado <a href="https://github.com/mswjs/data" target="_blank" rel="noreferrer"><code>@mswjs/data</code></a>. De esta manera puedes traer el modelado a la mesa cuando lo necesites.</p></blockquote><h3 id="soporte-api-2" tabindex="-1">Soporte API <a class="header-anchor" href="#soporte-api-2" aria-label="Permalink to &quot;Soporte API&quot;">​</a></h3><table><thead><tr><th>Tipo de API</th><th>Mirage</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>REST API</td><td>✅</td><td>✅</td></tr><tr><td>GraphQL API</td><td>❌</td><td>✅</td></tr><tr><td>WebSocket API</td><td>❌</td><td>❌</td></tr></tbody></table><h3 id="entorno-soportado-2" tabindex="-1">Entorno soportado <a class="header-anchor" href="#entorno-soportado-2" aria-label="Permalink to &quot;Entorno soportado&quot;">​</a></h3><table><thead><tr><th>Entorno</th><th>Mirage</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>Node.js</td><td>❌</td><td>✅</td></tr><tr><td>Navegador</td><td>✅</td><td>✅</td></tr></tbody></table><h3 id="implementacion" tabindex="-1">Implementación <a class="header-anchor" href="#implementacion" aria-label="Permalink to &quot;Implementación&quot;">​</a></h3><table><thead><tr><th>Entorno</th><th>Mirage</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>Navegador</td><td><code>fetch</code> de Monkey-patches y <code>XMLHttpRequest</code> (utiliza <code>pretender</code>).</td><td>Utiliza un Service Worker para interceptar solicitudes en el nivel del navegador.</td></tr></tbody></table><h3 id="integracion-2" tabindex="-1">Integración <a class="header-anchor" href="#integracion-2" aria-label="Permalink to &quot;Integración&quot;">​</a></h3><table><thead><tr><th>Mirage</th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>No requiere ningún cambio en el código.</td><td>No requiere ningún cambio en el código.</td></tr><tr><td>Funciona con cualquier cliente de solicitud sin configuración adicional.</td><td>Funciona con cualquier cliente de solicitud sin configuración adicional.</td></tr></tbody></table><h3 id="definicion-2" tabindex="-1">Definición <a class="header-anchor" href="#definicion-2" aria-label="Permalink to &quot;Definición&quot;">​</a></h3><p>Mirage</p><p>Mirage utiliza el formato de controladores de rutas para definir rutas similares a las de un servidor y respuestas simuladas.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  routes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/movies&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Interstellar&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Inception&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Dunkirk&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Mirage también viene con una base de datos en memoria para ayudarle a modelar relaciones de datos más complejas.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  models: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    movie: Model.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">extend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      castMembers: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    castMember: Model.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">extend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      movie: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">belongsTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  routes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Your route handlers responding with the data.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="mock-service-worker-1" tabindex="-1">Mock Service Worker <a class="header-anchor" href="#mock-service-worker-1" aria-label="Permalink to &quot;Mock Service Worker&quot;">​</a></h3><p>MSW modela su API de intercepción después del enrutamiento del lado del servidor y maneja solicitudes y respuestas de acuerdo con la especificación Fetch API, usando las mismas clases que usaría normalmente en JavaScript:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/movies&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpResponse.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Interstellar&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Inception&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Dunkirk&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Aunque MSW no incluye capacidades de modelado de datos integradas, aprovecha los paquetes del ecosistema, como <code>@mswjs/data</code>, para brindarle un enfoque basado en los datos para la simulación de API, si así lo elige.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { factory, primaryKey, oneOf, manyOf } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@mswjs/data&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Model the data.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> factory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  movie: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">primaryKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(randomUuid),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    title: String,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    castMembers: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">manyOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;castMember&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  castMember: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">primaryKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(randomUuid),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: String,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    movie: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oneOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;movie&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Generate request handlers based on the models.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - GET /movies</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - GET /movies/:id</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - POST /movies</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toHandlers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;rest&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Including GraphQL queries!</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - query ListMovies</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - query GetMovie</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - mutation AddMovie</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toHandlers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;graphql&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="cypress-cy-intercept" tabindex="-1">Cypress - <code>cy.intercept()</code> <a class="header-anchor" href="#cypress-cy-intercept" aria-label="Permalink to &quot;Cypress - \`cy.intercept()\`&quot;">​</a></h2><p><a href="https://github.com/cypress-io/cypress" target="_blank" rel="noreferrer">Cypress</a> es un marco de pruebas de un extremo a otro que proporciona capacidades de simulación de API a través de su API cy.intercept().</p><h3 id="soporte-api-3" tabindex="-1">Soporte API <a class="header-anchor" href="#soporte-api-3" aria-label="Permalink to &quot;Soporte API&quot;">​</a></h3><table><thead><tr><th>Tipo de API</th><th><code>cy.intercept()</code></th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>REST API</td><td>✅</td><td>✅</td></tr><tr><td>GraphQL API</td><td>❌<sup>1</sup></td><td>✅</td></tr><tr><td>WebSocket API</td><td>❌</td><td>❌</td></tr></tbody></table><blockquote><p><sup>1</sup>—Aunque es posible trabajar con solicitudes GraphQL mediante alias personalizados, aún requiere mucha configuración adicional. Cypress logra burlarse de la API GraphQL a través del manejo HTTP (ya que GraphQL se implementa más comúnmente a través de HTTP en la web) en lugar de un soporte GraphQL de primera clase.</p></blockquote><h3 id="entorno-soportado-3" tabindex="-1">Entorno soportado <a class="header-anchor" href="#entorno-soportado-3" aria-label="Permalink to &quot;Entorno soportado&quot;">​</a></h3><table><thead><tr><th>Tipo de API</th><th><code>cy.intercept()</code></th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>Node.js</td><td>❌<sup>1</sup></td><td>✅</td></tr><tr><td>Navegador</td><td>✅</td><td>✅</td></tr></tbody></table><blockquote><p><sup>1</sup>—Cypress es un marco de pruebas de navegador, lo que significa que no puedes usar tus simulacros de <code>cy.intercept()</code> en un proceso de Node.js, como una prueba de integración o una aplicación backend.</p></blockquote><h3 id="implementacion-1" tabindex="-1">Implementación <a class="header-anchor" href="#implementacion-1" aria-label="Permalink to &quot;Implementación&quot;">​</a></h3><table><thead><tr><th>Entorno</th><th><code>cy.intercept()</code></th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>Navegador</td><td>Utiliza un proxy HTTP en todo el navegador para enrutar las solicitudes salientes a través del servidor personalizado que Cypress genera como parte de su tiempo de ejecución.</td><td>Utiliza un Service Worker para interceptar solicitudes en el nivel del navegador.</td></tr></tbody></table><h3 id="integracion-3" tabindex="-1">Integración <a class="header-anchor" href="#integracion-3" aria-label="Permalink to &quot;Integración&quot;">​</a></h3><table><thead><tr><th><code>cy.intercept()</code></th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>No requiere cambios en el código. Disponible de forma nativa con Cypress.</td><td>No requiere cambios en el código.</td></tr><tr><td>Funciona con cualquier cliente de solicitud sin configuración adicional.</td><td>Funciona con cualquier cliente de solicitud sin configuración adicional.</td></tr></tbody></table><h3 id="definicion-3" tabindex="-1">Definición <a class="header-anchor" href="#definicion-3" aria-label="Permalink to &quot;Definición&quot;">​</a></h3><p><code>cy.intercept()</code></p><p>Cypress utiliza una firma de comparación personalizada y una función de controlador de ruta para interceptar y manejar solicitudes. Utiliza métodos personalizados como <code>req.reply()</code>, <code>req.continue()</code> o <code>req.redirect()</code> para un control de solicitudes más detallado.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">intercept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;POST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  statusCode: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">201</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  body: req.body,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  delay: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="mock-service-worker-2" tabindex="-1">Mock Service Worker <a class="header-anchor" href="#mock-service-worker-2" aria-label="Permalink to &quot;Mock Service Worker&quot;">​</a></h3><p>MSW modela su API de interceptación después del enrutamiento del lado del servidor y maneja solicitudes y respuestas de acuerdo con la especificación Fetch API, usando las mismas clases que usaría normalmente en JavaScript:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { http, delay } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;msw&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Read the request body as you would normally.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> request.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Control the response resolver execution flow</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // via Promises, like this &quot;delay&quot; Promise below.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Construct a response as you would normally.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpResponse.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user, { status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">201</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>MSW le brinda un control más avanzado sobre las solicitudes a través de sus API <code>passthrough()</code> y <code>bypass()</code>, que aún generan respuestas HTTP semánticas bajo el capó.</p><h2 id="playwright-page-route" tabindex="-1">Playwright - <code>page.route()</code> <a class="header-anchor" href="#playwright-page-route" aria-label="Permalink to &quot;Playwright - \`page.route()\`&quot;">​</a></h2><p><a href="https://github.com/microsoft/playwright" target="_blank" rel="noreferrer">Playwright</a> es una herramienta de prueba de navegador que proporciona capacidades de simulación de API a través de su API <code>page.route()</code>.</p><h3 id="soporte-api-4" tabindex="-1">Soporte API <a class="header-anchor" href="#soporte-api-4" aria-label="Permalink to &quot;Soporte API&quot;">​</a></h3><table><thead><tr><th>Tipo de API</th><th><code>page.route()</code></th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>REST API</td><td>✅</td><td>✅</td></tr><tr><td>GraphQL API</td><td>❌<sup>1</sup></td><td>✅</td></tr><tr><td>WebSocket API</td><td>❌</td><td>❌</td></tr></tbody></table><blockquote><p><sup>1</sup>—Puede manejar solicitudes GraphQL con <code>page.route()</code> ya que también son solicitudes HTTP, pero Playwright no proporciona soporte de primera clase para burlarse de las API GraphQL.</p></blockquote><h3 id="entorno-soportado-4" tabindex="-1">Entorno soportado <a class="header-anchor" href="#entorno-soportado-4" aria-label="Permalink to &quot;Entorno soportado&quot;">​</a></h3><table><thead><tr><th>Tipo de API</th><th><code>page.route()</code></th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>Node.js</td><td>❌<sup>1</sup></td><td>✅</td></tr><tr><td>Navegador</td><td>✅</td><td>✅</td></tr></tbody></table><blockquote><p><sup>1</sup>—Aunque con Playwright escribes tus pruebas en Node.js, el propio Playwright (y su <code>page.route()</code>) solo afecta el tráfico en el navegador generado, no el proceso de Node.js.</p></blockquote><h3 id="implementacion-2" tabindex="-1">Implementación <a class="header-anchor" href="#implementacion-2" aria-label="Permalink to &quot;Implementación&quot;">​</a></h3><table><thead><tr><th>Entorno</th><th><code>page.route()</code></th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>Navegador</td><td>Utiliza el <a href="https://chromedevtools.github.io/devtools-protocol/" target="_blank" rel="noreferrer">Protocolo Chrome DevTools</a> para interceptar solicitudes a nivel del navegador.</td><td>Utiliza un Service Worker para interceptar solicitudes en el nivel del navegador.</td></tr></tbody></table><h3 id="integracion-4" tabindex="-1">Integración <a class="header-anchor" href="#integracion-4" aria-label="Permalink to &quot;Integración&quot;">​</a></h3><table><thead><tr><th><code>page.route()</code></th><th>Mock Service Worker</th></tr></thead><tbody><tr><td>No requiere ningún cambio en el código. Disponible de forma nativa con Playwright.</td><td>No requiere ningún cambio en el código.</td></tr><tr><td>Funciona con cualquier cliente de solicitud sin configuración adicional.</td><td>Funciona con cualquier cliente de solicitud sin configuración adicional.</td></tr></tbody></table><h3 id="definicion-4" tabindex="-1">Definición <a class="header-anchor" href="#definicion-4" aria-label="Permalink to &quot;Definición&quot;">​</a></h3><p><code>page.route()</code></p><p>La función <code>page.route()</code> en Playwright utiliza métodos personalizados como <code>route.fulfill()</code> y <code>route.continue()</code> para brindarle más control sobre la solicitud.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">route</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/fruits&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">route</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (request.method </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;POST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    json.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Playwright&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fulfill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ response, json })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  route.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="mock-service-worker-3" tabindex="-1">Mock Service Worker <a class="header-anchor" href="#mock-service-worker-3" aria-label="Permalink to &quot;Mock Service Worker&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { bypass } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;msw&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/fruits&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bypass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(request))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  json.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Mock Service Worker&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpResponse.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(json, response)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>La alternativa para <code>route.continue()</code> en MSW es simplemente no devolver nada de un <em>response resolver</em>. Pero como podemos limitar la intercepción de solicitudes tanto al método (<code>POST</code>) como a la ruta (<code>/fruits</code>), nuestro controlador de solicitudes nunca se ocupa de otras solicitudes.</p><p>MSW utiliza la función <a href="./../api/bypass.html"><code>bypass()</code></a> personalizada que envuelve cualquier instancia <code>Request</code> determinada para evitar que se vea afectada por otros controladores de solicitudes que de otro modo coincidirían.</p>`,105),l=[n];function r(h,p,o,d,k,c){return a(),i("div",null,l)}const u=s(t,[["render",r]]);export{g as __pageData,u as default};
